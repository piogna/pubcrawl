<!-- <div class="jumbotron">
  <div class="row">
    <div id="map" class="col-lg-12"></div>
  </div>
</div>

<div class="container"> -->
  <div class="row">
    <div id="map"></div>
  </div>
  <div class="wrapper">
    <div class="row text-center">
      <h1><mark><%= @crawl.name %></mark></h1>
      <p><%= @crawl.description if @crawl.description %></p>
      <br/>
      <br/>
    </div>
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2">
        <table class="table table-hover">
          <th></th>
          <th><h3>Name</h3></th>
          <th><h3>Address</h3></th>
          <th><h3>City</h3></th>
          <% @bars.each_with_index do |bar, index| %>
            <tr>
              <td><h4><%= "#{index + 1}. " %></h4></td>
              <td><h4><%= bar.name %></h4></td>
              <td><p><%=  bar.address %></p></td>
              <td><p><%=  bar.city %></p></td>
            </tr>
          <% end %>
        </table>
      </div>
    </div>

  <script type="text/javascript">
    var map;

    function initMap(coords) {
    var mapDiv = document.getElementById('map');
      map = new google.maps.Map(mapDiv, {
          center: {
              lat: 43.656288,
              lng: -79.380905
          },
          zoom: 14
      });
      centerMap()
    }

    function centerMap() {
      var geolocation = null;

      if (window.navigator && window.navigator.geolocation) {
          geolocation = window.navigator.geolocation;
      }

      if (geolocation) {

          geolocation.getCurrentPosition(
              function(position) {
                  latLng = new google.maps.LatLng({
                      lat: position.coords.latitude,
                      lng: position.coords.longitude
                  });
                  map.panTo(latLng);
              }
          );
      }
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?callback=initMap" async defer></script>
</div>